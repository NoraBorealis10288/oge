@page "/"
@rendermode InteractiveServer
@inject NavigationManager navman;

<PageTitle>Operation Cordon</PageTitle>

<p class="title"><b>Operation Cordon</b></p>
<hr>

<div class="content">
    @if(Shared.uploadStatus.Equals("null")) {
        <h5>Please upload a file</h5>
        <br>
        <div class="upload-button">
            <InputFile style="opacity: 0; cursor: pointer;" OnChange="UploadFileAsync" accept=".csv" href=""/>
        </div>
        <br>
        <hr>
    }

    @if (Shared.uploadStatus.Equals("file")) {
        <div class="container-fluid pt-5">
            <div class="row">
                <div class="col-sm-4 d-flex justify-content-center">
                    <div class="card" style="width: 25rem; height: 18rem;">
                        <p><b>Door Activity</b></p>
                        <a href="dooractivity" class="btn" style="height: 100%;"><img src="ogelogo.png" width="100%" height="100%"/></a>
                    </div>
                </div>
                <div class="col-sm-4 d-flex justify-content-center">
                    <div class="card" style="width: 25rem; height: 18rem;">
                        <p><b>User Activity</b></p>
                        <a href="useractivity" class="btn" style="height: 100%;"><img src="ogelogo.png" width="100%" height="100%"/></a>
                    </div>
                </div>
                <div class="col-sm-4 d-flex justify-content-center">
                    <div class="card" style="width: 25rem; height: 18rem;">
                        <p><b>Average Accesses</b></p>
                        <a href="dowactivity" class="btn" style="height: 100%;"><img src="ogelogo.png" width="100%" height="100%"/></a>
                    </div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-sm-4 d-flex justify-content-center">
                    <div class="card" style="width: 25rem; height: 18rem;">
                        <p><b>Unique Accesses</b></p>
                        <a href="uniqueaccesses" class="btn" style="height: 100%;"><img src="ogelogo.png" width="100%" height="100%"/></a>
                    </div>
                </div>
                <div class="col-sm-4 d-flex justify-content-center">
                    <div class="card" style="width: 25rem; height: 18rem;">
                        <p><b>Longest Inactivity</b></p>
                        <a href="inactivity" class="btn" style="height: 100%;"><img src="ogelogo.png" width="100%" height="100%"/></a>
                    </div>
                </div>
                <div class="col-sm-4 d-flex justify-content-center">
                    <div class="card" style="width: 25rem; height: 18rem;">
                        <p><b>Timeranges</b></p>
                        <a href="timeranges" class="btn" style="height: 100%;"><img src="ogelogo.png" width="100%" height="100%"/></a>
                    </div>
                </div>
            </div>
        </div>
    }
</div>

<style>

hr {
    border-top: 5px solid #000;
    opacity: 1;
    width: 80%;
    margin: auto;
}

.title {
    font-size: 70px;
    font-family: 'Courier New', monospace;
}

p {
    font-size: 20px;
    font-family: 'Courier New', monospace;
}

.content {
    text-align: center;
}

.upload-button {
    display: flex;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='black' class='bi bi-upload' viewBox='0 0 16 16'%3E%3Cpath d='M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5'/%3E%C/%3E%3Cpath d='M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z'/%3E%3C/svg%3E");
    background-position: center;
    color: transparent;
    position: relative;
    width: 27.5rem;
    height: 17.5rem;
    background-size: contain;
    background-repeat: no-repeat;
    margin-left: auto;
    margin-right: auto;
    border-radius: 25px;
}

    .upload-button:hover {
        background-color: rgba(0,0,0,0.05);
    }

</style>

@code {
    public async Task UploadFileAsync(InputFileChangeEventArgs e) {
        var file = e.File;
        await Shared.FileUploadedAsync(file);
    }
}